<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css">
<title>Clueso Login</title>
</head>

<body>

<div class="auth-container">
    <div class="brand">
    <img src="clueso_logo.jfif" class="brand-logo">
    <span class="brand-text">Clueso</span>
</div>

    <div class="auth-tag">Login to continue your journey</div>

    <input id="email" class="auth-input" type="email" placeholder="Enter Email">
    <input id="password" class="auth-input" type="password" placeholder="Enter Password">

    <button class="auth-btn" onclick="login()">Login</button>

    <p id="msg"></p>

    <p class="link-text">
        Donâ€™t have an account?
        <a href="register.html">Register here</a>
    </p>
</div>

<script>
async function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const res = await fetch("http://127.0.0.1:8000/auth/login", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({email,password})
    });

    const data = await res.json();

    if(res.status === 200){
        localStorage.setItem("token", data.token);
        window.location.href="dashboard.html";
    } 
    else {
        document.getElementById("msg").innerText = data.detail || "Login Failed";
    }
}
</script>

</body>
</html>
