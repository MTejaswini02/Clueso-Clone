<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css">
<title>Clueso Register</title>
</head>

<body>

<div class="auth-container">
    <div class="brand">
    <img src="clueso_logo.jfif" class="brand-logo">
    <span class="brand-text">Clueso</span>
</div>

    <div class="auth-tag">Create an account to get started</div>

    <input id="email" class="auth-input" type="email" placeholder="Enter Email">
    <input id="password" class="auth-input" type="password" placeholder="Create Password">

    <button class="auth-btn" onclick="register()">Register</button>

    <p id="msg"></p>

    <p class="link-text">
        Already have an account?
        <a href="login.html">Login here</a>
    </p>
</div>

<script>
    
async function register(){
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const res = await fetch("http://127.0.0.1:8000/auth/register", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({email,password})
    });

    const data = await res.json();

    if(res.status === 200){
        document.getElementById("msg").innerText="Registration Successful! Now Login.";
    } 
    else {
        document.getElementById("msg").innerText=data.detail || "Failed";
    }
}
</script>

</body>
</html>
